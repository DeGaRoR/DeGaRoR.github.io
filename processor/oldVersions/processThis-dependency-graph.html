<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>processThis — Roadmap Dependency Graph (rev 3 final)</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: #0b0e14; color: #e2e8f0; font-family: 'Inter', -apple-system, sans-serif; padding: 32px; }
  h1 { font-size: 20px; font-weight: 700; margin-bottom: 4px; color: #f1f5f9; }
  .subtitle { font-size: 13px; color: #64748b; margin-bottom: 28px; }
  svg { display: block; margin: 0 auto; }
  .node rect { rx: 10; ry: 10; stroke-width: 2; cursor: default; transition: filter 0.2s; }
  .node rect:hover { filter: brightness(1.15) drop-shadow(0 0 8px rgba(96,165,250,0.3)); }
  .node-id { font-size: 13px; font-weight: 700; fill: #f1f5f9; }
  .node-title { font-size: 10.5px; fill: #cbd5e1; }
  .node-detail { font-size: 9px; fill: #64748b; }
  .edge { stroke: #475569; stroke-width: 2; fill: none; marker-end: url(#arrow); }
  .edge-feeds { stroke: #334155; stroke-width: 1.5; stroke-dasharray: 6 4; fill: none; marker-end: url(#arrow-dim); }
  .parked-node rect { stroke-dasharray: 5 3; }
  .legend { font-size: 10px; fill: #94a3b8; }
  .legend-label { font-size: 11px; fill: #cbd5e1; font-weight: 600; }
  .crit { stroke: #f59e0b; stroke-width: 2.5; }
  .audit-tag { font-size: 8px; fill: #22c55e; font-style: italic; }
</style>
</head>
<body>
<h1>processThis — Roadmap Dependency Graph</h1>
<div class="subtitle">Engine-first, then game · v12.10.0 baseline · February 2026 rev 3 final · 10 species · 10 reactions · 8 stages · audit complete</div>

<svg viewBox="0 0 1060 820" width="1060" height="820" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <path d="M0,0 L10,3.5 L0,7 z" fill="#475569"/>
    </marker>
    <marker id="arrow-crit" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <path d="M0,0 L10,3.5 L0,7 z" fill="#f59e0b"/>
    </marker>
    <marker id="arrow-dim" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="7" markerHeight="5" orient="auto-start-reverse">
      <path d="M0,0 L10,3.5 L0,7 z" fill="#334155"/>
    </marker>
    <linearGradient id="ge" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#1e3a5f"/><stop offset="100%" stop-color="#172554"/>
    </linearGradient>
    <linearGradient id="gg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#1a3a2a"/><stop offset="100%" stop-color="#14332a"/>
    </linearGradient>
    <linearGradient id="gp" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#1e1e2e"/><stop offset="100%" stop-color="#18182a"/>
    </linearGradient>
  </defs>

  <!-- ═══ BACKGROUND ZONES ═══ -->
  <rect x="10" y="40" width="660" height="680" rx="16" fill="#0d1117" stroke="#1e293b" stroke-width="1"/>
  <text x="26" y="62" class="legend-label">ENGINE (S1–S7)</text>
  <rect x="690" y="40" width="360" height="360" rx="16" fill="#0a1210" stroke="#1e293b" stroke-width="1"/>
  <text x="706" y="62" class="legend-label">GAME (S8)</text>
  <rect x="690" y="420" width="360" height="340" rx="16" fill="#0e0e18" stroke="#1e293b" stroke-width="1"/>
  <text x="706" y="442" class="legend-label">PARKED</text>

  <!-- ═══ ENGINE NODES ═══ -->

  <!-- S1 -->
  <g class="node" transform="translate(30, 80)">
    <rect width="240" height="82" fill="url(#ge)" stroke="#3b82f6"/>
    <text x="14" y="22" class="node-id">S1</text>
    <text x="38" y="22" class="node-title">Limits + Chemistry + Data Fixes</text>
    <text x="14" y="38" class="node-detail">13 units × limits · alarm rationalization</text>
    <text x="14" y="50" class="node-detail">CO species · +7 reactions (10 total)</text>
    <text x="14" y="62" class="node-detail">H₂O cpig Tmin 500→298 · CO₂ Antoine LV range</text>
    <text x="14" y="74" class="audit-tag">✓ audit: thermo data fixes identified</text>
  </g>

  <!-- S2 -->
  <g class="node" transform="translate(30, 202)">
    <rect width="240" height="72" fill="url(#ge)" stroke="#3b82f6"/>
    <text x="14" y="22" class="node-id">S2</text>
    <text x="38" y="22" class="node-title">Power Management</text>
    <text x="14" y="38" class="node-detail">Overload + fry · priority allocation</text>
    <text x="14" y="50" class="node-detail">Load shedding · sink_electrical fix</text>
    <text x="14" y="62" class="node-detail">Direct connection model</text>
  </g>

  <!-- S3 -->
  <g class="node" transform="translate(30, 314)">
    <rect width="240" height="82" fill="url(#ge)" stroke="#3b82f6"/>
    <text x="14" y="22" class="node-id">S3</text>
    <text x="38" y="22" class="node-title">Peng-Robinson EOS</text>
    <text x="14" y="38" class="node-detail">Cubic solver · fugacity VLE · departures</text>
    <text x="14" y="50" class="node-detail">Liquid density · quantum gas guard</text>
    <text x="14" y="62" class="node-detail">Range-exceeded alarm source</text>
    <text x="14" y="74" class="audit-tag">✓ audit: valve JT-ready via H_departure</text>
  </g>

  <!-- S4 -->
  <g class="node" transform="translate(310, 314)">
    <rect width="240" height="82" fill="url(#ge)" stroke="#3b82f6"/>
    <text x="14" y="22" class="node-id">S4</text>
    <text x="38" y="22" class="node-title">Process Operations</text>
    <text x="14" y="38" class="node-detail">Shortcut distillation column (FUG)</text>
    <text x="14" y="50" class="node-detail">HEX UA/NTU effective-Cp fix</text>
    <text x="14" y="62" class="node-detail">Refrigeration loop verification</text>
    <text x="14" y="74" class="audit-tag">✓ audit: approach/setpoint modes two-phase safe</text>
  </g>

  <!-- S5 -->
  <g class="node" transform="translate(30, 436)">
    <rect width="240" height="72" fill="url(#ge)" stroke="#3b82f6"/>
    <text x="14" y="22" class="node-id">S5</text>
    <text x="38" y="22" class="node-title">Pressure Network</text>
    <text x="14" y="38" class="node-detail">Tank headspace (uses S3 density)</text>
    <text x="14" y="50" class="node-detail">BFS propagation · topology</text>
    <text x="14" y="62" class="node-detail">Pressure gating · atmosphere_sink</text>
  </g>

  <!-- S6 -->
  <g class="node" transform="translate(310, 436)">
    <rect width="240" height="72" fill="url(#ge)" stroke="#3b82f6"/>
    <text x="14" y="22" class="node-id">S6</text>
    <text x="38" y="22" class="node-title">Electrochemical Reactor</text>
    <text x="14" y="38" class="node-detail">Power-driven ξ paradigm</text>
    <text x="14" y="50" class="node-detail">R_H2O_ELEC + R_CO2_ELEC activation</text>
    <text x="14" y="62" class="node-detail">Waste heat port · efficiency η</text>
  </g>

  <!-- S7 -->
  <g class="node" transform="translate(310, 590)">
    <rect width="240" height="72" fill="url(#ge)" stroke="#3b82f6"/>
    <text x="14" y="22" class="node-id">S7</text>
    <text x="38" y="22" class="node-title">Performance Maps</text>
    <text x="14" y="38" class="node-detail">VP envelopes (S3) · phase maps</text>
    <text x="14" y="50" class="node-detail">Reactor feasibility · column Gilliland</text>
    <text x="14" y="62" class="node-detail">Limit overlays (S1) · operating point</text>
  </g>

  <!-- ═══ GAME NODE ═══ -->
  <g class="node" transform="translate(710, 70)">
    <rect width="320" height="120" fill="url(#gg)" stroke="#22c55e"/>
    <text x="16" y="22" class="node-id">S8</text>
    <text x="42" y="22" class="node-title">Game Infrastructure</text>
    <text x="16" y="40" class="node-detail">Dual-scene refactor · ProductionClock</text>
    <text x="16" y="52" class="node-detail">Mission engine · paramLocks → S1 limits</text>
    <text x="16" y="64" class="node-detail">Sim/prod state machine · economy · ledger</text>
    <text x="16" y="76" class="node-detail">Campaign + save/load · shell + HUD</text>
    <text x="16" y="92" class="node-detail" style="fill:#4ade80; font-style:italic;">Reads ALL engine APIs. Modifies NONE.</text>
  </g>
  <text x="726" y="210" class="node-detail" style="fill:#4ade80;">S1: limits + paramLocks + chemistry</text>
  <text x="726" y="222" class="node-detail" style="fill:#4ade80;">S2: overload → mission consequences</text>
  <text x="726" y="234" class="node-detail" style="fill:#4ade80;">S3: high-P + cryo credible · JT real</text>
  <text x="726" y="246" class="node-detail" style="fill:#4ade80;">S4: purity objectives meaningful</text>
  <text x="726" y="258" class="node-detail" style="fill:#4ade80;">S5: pressure as difficulty axis</text>
  <text x="726" y="270" class="node-detail" style="fill:#4ade80;">S6: electrolysis + ISRU missions</text>
  <text x="726" y="282" class="node-detail" style="fill:#4ade80;">S7: inspector maps for player</text>

  <!-- Estimated tests -->
  <text x="726" y="310" class="node-detail" style="fill:#64748b;">Est. tests: 289 → ~422 (+133)</text>
  <text x="726" y="322" class="node-detail" style="fill:#64748b;">10 species · 10 reactions · 23 unit types</text>

  <!-- ═══ PARKED ═══ -->
  <g class="node parked-node" transform="translate(710, 460)">
    <rect width="150" height="50" fill="url(#gp)" stroke="#6366f1"/>
    <text x="10" y="18" class="node-detail" style="fill:#a5b4fc;">Narrative</text>
    <text x="10" y="32" class="node-detail">needs S8</text>
  </g>
  <g class="node parked-node" transform="translate(870, 460)">
    <rect width="150" height="50" fill="url(#gp)" stroke="#6366f1"/>
    <text x="10" y="18" class="node-detail" style="fill:#a5b4fc;">Bible of Thermo</text>
    <text x="10" y="32" class="node-detail">needs S7 + S8</text>
  </g>
  <g class="node parked-node" transform="translate(710, 520)">
    <rect width="150" height="50" fill="url(#gp)" stroke="#6366f1"/>
    <text x="10" y="18" class="node-detail" style="fill:#a5b4fc;">3D View</text>
    <text x="10" y="32" class="node-detail">needs S8</text>
  </g>
  <g class="node parked-node" transform="translate(870, 520)">
    <rect width="150" height="50" fill="url(#gp)" stroke="#6366f1"/>
    <text x="10" y="18" class="node-detail" style="fill:#a5b4fc;">Adv. Valves (Cv)</text>
    <text x="10" y="32" class="node-detail">needs S5</text>
  </g>
  <g class="node parked-node" transform="translate(710, 580)">
    <rect width="150" height="50" fill="url(#gp)" stroke="#6366f1"/>
    <text x="10" y="18" class="node-detail" style="fill:#a5b4fc;">M/L Sizes</text>
    <text x="10" y="32" class="node-detail">needs S1</text>
  </g>
  <g class="node parked-node" transform="translate(870, 580)">
    <rect width="150" height="50" fill="url(#gp)" stroke="#6366f1"/>
    <text x="10" y="18" class="node-detail" style="fill:#a5b4fc;">Alarm Extensions</text>
    <text x="10" y="32" class="node-detail">needs S1</text>
  </g>
  <g class="node parked-node" transform="translate(710, 640)">
    <rect width="150" height="50" fill="url(#gp)" stroke="#6366f1"/>
    <text x="10" y="18" class="node-detail" style="fill:#a5b4fc; font-weight:600;">Ch.2: Sulfur</text>
    <text x="10" y="32" class="node-detail">H₂S, SO₂ + absorber</text>
  </g>
  <g class="node parked-node" transform="translate(870, 640)">
    <rect width="150" height="50" fill="url(#gp)" stroke="#6366f1"/>
    <text x="10" y="18" class="node-detail" style="fill:#a5b4fc; font-weight:600;">Ch.2: Phosphorus</text>
    <text x="10" y="32" class="node-detail">PH₃, P₂O₅ + route</text>
  </g>
  <g class="node parked-node" transform="translate(710, 700)">
    <rect width="150" height="50" fill="url(#gp)" stroke="#6366f1"/>
    <text x="10" y="18" class="node-detail" style="fill:#a5b4fc;">Mission Editor</text>
    <text x="10" y="32" class="node-detail">needs S8</text>
  </g>
  <g class="node parked-node" transform="translate(870, 700)">
    <rect width="150" height="50" fill="url(#gp)" stroke="#6366f1"/>
    <text x="10" y="18" class="node-detail" style="fill:#a5b4fc;">Hub Throughput</text>
    <text x="10" y="32" class="node-detail">needs S2</text>
  </g>

  <!-- ═══ HARD EDGES — CRITICAL PATH (amber) ═══ -->
  <!-- S1 → S2 -->
  <path class="edge crit" d="M150,162 L150,202" marker-end="url(#arrow-crit)"/>
  <!-- S2 → S3 -->
  <path class="edge crit" d="M150,274 L150,314" marker-end="url(#arrow-crit)"/>
  <!-- S3 → S5 (tank headspace needs PR density) -->
  <path class="edge crit" d="M150,396 L150,436" marker-end="url(#arrow-crit)"/>

  <!-- ═══ HARD EDGES — NON-CRITICAL ═══ -->
  <!-- S3 → S4 (column needs PR K-values) -->
  <path class="edge" d="M270,355 L310,355"/>
  <!-- S2 → S6 (power demand contract) -->
  <path class="edge" d="M270,250 Q480,250 430,436"/>
  <!-- S4 → S5 (column pressure → pressure network) -->
  <path class="edge" d="M430,396 Q370,416 270,460"/>
  <!-- S1 → S7 (limit overlays) -->
  <path class="edge" d="M270,130 Q640,130 640,550 Q640,620 550,620"/>
  <!-- S3 → S7 (VP envelopes from EOS) -->
  <path class="edge" d="M270,370 Q580,470 490,590"/>
  <!-- S4 → S7 (column Gilliland map) -->
  <path class="edge" d="M480,396 Q530,500 480,590"/>

  <!-- ═══ SOFT EDGES (feeds into S8) ═══ -->
  <path class="edge-feeds" d="M270,115 Q500,75 710,105" marker-end="url(#arrow-dim)"/>
  <path class="edge-feeds" d="M270,235 Q500,160 710,120" marker-end="url(#arrow-dim)"/>
  <path class="edge-feeds" d="M270,345 Q560,210 710,135" marker-end="url(#arrow-dim)"/>
  <path class="edge-feeds" d="M550,345 Q640,250 710,150" marker-end="url(#arrow-dim)"/>
  <path class="edge-feeds" d="M270,470 Q560,340 710,160" marker-end="url(#arrow-dim)"/>
  <path class="edge-feeds" d="M550,470 Q640,340 710,170" marker-end="url(#arrow-dim)"/>
  <path class="edge-feeds" d="M550,630 Q660,420 770,190" marker-end="url(#arrow-dim)"/>

  <!-- ═══ LEGEND ═══ -->
  <g transform="translate(30, 760)">
    <line x1="0" y1="8" x2="25" y2="8" stroke="#f59e0b" stroke-width="2.5" marker-end="url(#arrow-crit)"/>
    <text x="33" y="12" class="legend">Critical path</text>
    <line x1="130" y1="8" x2="155" y2="8" class="edge" style="marker-end:url(#arrow)"/>
    <text x="163" y="12" class="legend">Hard dependency</text>
    <line x1="280" y1="8" x2="305" y2="8" class="edge-feeds" style="marker-end:url(#arrow-dim)"/>
    <text x="313" y="12" class="legend">Reads from</text>
    <rect x="400" y="0" width="14" height="14" rx="3" fill="url(#ge)" stroke="#3b82f6" stroke-width="1.5"/>
    <text x="420" y="12" class="legend">Engine</text>
    <rect x="475" y="0" width="14" height="14" rx="3" fill="url(#gg)" stroke="#22c55e" stroke-width="1.5"/>
    <text x="495" y="12" class="legend">Game</text>
    <rect x="540" y="0" width="14" height="14" rx="3" fill="url(#gp)" stroke="#6366f1" stroke-width="1.5" stroke-dasharray="5 3"/>
    <text x="560" y="12" class="legend">Parked</text>
    <text x="630" y="12" class="audit-tag" style="font-size:10px;">✓ = verified by code audit</text>
  </g>
  <text x="30" y="795" class="legend" style="fill:#f59e0b;">Critical path: S1 → S2 → S3 → S5 (longest sequential chain)</text>
  <text x="30" y="810" class="legend" style="fill:#64748b;">S4 branches from S3 (column needs PR K-values). S6 branches from S2 (power contract). S7 merges S1+S3+S4. S8 reads all.</text>
</svg>
</body>
</html>
